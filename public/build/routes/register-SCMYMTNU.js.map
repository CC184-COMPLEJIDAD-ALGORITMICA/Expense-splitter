{
  "version": 3,
  "sources": ["../../../app/routes/register.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\register.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\register.tsx\");\n  import.meta.hot.lastModified = \"1726703220398.0806\";\n}\n// REMIX HMR END\n\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData } from \"@remix-run/react\";\nimport { createUserSession, getUser, register } from \"~/auth.server\";\nimport { db } from \"~/db.server\";\nexport const loader = async ({\n  request\n}) => {\n  const user = await getUser(request);\n  if (user) return redirect(\"/\");\n  return json({});\n};\nexport const action = async ({\n  request\n}) => {\n  const form = await request.formData();\n  const username = form.get(\"username\");\n  const password = form.get(\"password\");\n  const redirectTo = form.get(\"redirectTo\") || \"/\";\n  if (typeof username !== \"string\" || typeof password !== \"string\" || typeof redirectTo !== \"string\") {\n    return json({\n      error: \"Invalid form data\"\n    }, {\n      status: 400\n    });\n  }\n  const existingUser = await db.user.findUnique({\n    where: {\n      username\n    }\n  });\n  if (existingUser) {\n    return json({\n      error: \"A user with this username already exists\"\n    }, {\n      status: 400\n    });\n  }\n  const user = await register({\n    username,\n    password\n  });\n  if (!user) {\n    return json({\n      error: \"Unable to create user\"\n    }, {\n      status: 400\n    });\n  }\n  return createUserSession(user.id, redirectTo, true);\n};\nexport default function Register() {\n  _s();\n  const actionData = useActionData();\n  return <div className=\"flex min-h-full flex-col justify-center\">\r\n      <div className=\"mx-auto w-full max-w-md px-8\">\r\n        <Form method=\"post\" className=\"space-y-6\">\r\n          <div>\r\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700\">\r\n              Username\r\n            </label>\r\n            <div className=\"mt-1\">\r\n              <input id=\"username\" required autoFocus={true} name=\"username\" type=\"text\" className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n              Password\r\n            </label>\r\n            <div className=\"mt-1\">\r\n              <input id=\"password\" name=\"password\" type=\"password\" autoComplete=\"new-password\" required className=\"w-full rounded border border-gray-500 px-2 py-1 text-lg\" />\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"w-full rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:bg-blue-400\">\r\n            Create Account\r\n          </button>\r\n          <div className=\"text-center text-sm text-gray-500\">\r\n            Already have an account?{\" \"}\r\n            <a className=\"text-blue-500 underline\" href=\"/login\">\r\n              Log in\r\n            </a>\r\n          </div>\r\n        </Form>\r\n        {actionData?.error ? <div className=\"pt-1 text-red-700\" id=\"error-message\">\r\n            {actionData.error}\r\n          </div> : null}\r\n      </div>\r\n    </div>;\n}\n_s(Register, \"fHVw5pq0Zwd2gXh2gyrnVdHnLCc=\", false, function () {\n  return [useActionData];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,kBAA+B;AAE/B,kBAAqD;AACrD,gBAAmB;AAsDP;AA7EZ,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,oCAAsC,EAAE;AAAA,EACjF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA2B;AAC3B,cAAY,IAAI,eAAe;AACjC;AAqDe,SAAR,WAA4B;AACjC,KAAG;AACH,QAAM,aAAa,cAAc;AACjC,SAAO,mDAAC,SAAI,WAAU,2CAClB,6DAAC,SAAI,WAAU,gCACb;AAAA,uDAAC,QAAK,QAAO,QAAO,WAAU,aAC5B;AAAA,yDAAC,SACC;AAAA,2DAAC,WAAM,SAAQ,YAAW,WAAU,2CAA0C,wBAA9E;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,SAAI,WAAU,QACb,6DAAC,WAAM,IAAG,YAAW,UAAQ,MAAC,WAAW,MAAM,MAAK,YAAW,MAAK,QAAO,WAAU,6DAArF;AAAA;AAAA;AAAA;AAAA,eAA+I,KADjJ;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,WANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,MAEA,mDAAC,SACC;AAAA,2DAAC,WAAM,SAAQ,YAAW,WAAU,2CAA0C,wBAA9E;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,SAAI,WAAU,QACb,6DAAC,WAAM,IAAG,YAAW,MAAK,YAAW,MAAK,YAAW,cAAa,gBAAe,UAAQ,MAAC,WAAU,6DAApG;AAAA;AAAA;AAAA;AAAA,eAA8J,KADhK;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,WANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,MAEA,mDAAC,YAAO,MAAK,UAAS,WAAU,uFAAsF,8BAAtH;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,mDAAC,SAAI,WAAU,qCAAoC;AAAA;AAAA,QACxB;AAAA,QACzB,mDAAC,OAAE,WAAU,2BAA0B,MAAK,UAAS,sBAArD;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,WAJF;AAAA;AAAA;AAAA;AAAA,aAKA;AAAA,SA3BF;AAAA;AAAA;AAAA;AAAA,WA4BA;AAAA,IACC,YAAY,QAAQ,mDAAC,SAAI,WAAU,qBAAoB,IAAG,iBACtD,qBAAW,SADK;AAAA;AAAA;AAAA;AAAA,WAEnB,IAAS;AAAA,OAhCb;AAAA;AAAA;AAAA;AAAA,SAiCA,KAlCG;AAAA;AAAA;AAAA;AAAA,SAmCL;AACJ;AACA,GAAG,UAAU,gCAAgC,OAAO,WAAY;AAC9D,SAAO,CAAC,aAAa;AACvB,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,UAAU;AAE3B,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": []
}
